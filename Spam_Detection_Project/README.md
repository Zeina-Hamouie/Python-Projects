# مشروع كشف رسائل البريد المزعج (Spam Detection)

## نظرة عامة على المشروع
يهدف هذا المشروع إلى بناء وتطوير نموذج تعلم آلي فعال لتصنيف الرسائل النصية القصيرة (SMS) إلى فئتين رئيسيتين: رسائل "مزعجة" (Spam) ورسائل "غير مزعجة" (Ham). يعتمد المشروع على مجموعة بيانات حقيقية من رسائل SMS، ويتبع منهجية شاملة تبدأ من استكشاف البيانات وتنظيفها، مرورًا بهندسة الميزات ومعالجة النصوص، وصولًا إلى تدريب وتقييم ومقارنة عدة خوارزميات تعلم آلي.

## أهداف المشروع
*   **تنظيف وتحليل البيانات:** معالجة البيانات الخام، إزالة التكرارات، وفهم خصائص مجموعة البيانات.
*   **هندسة الميزات:** استخلاص ميزات جديدة ومفيدة من النصوص، مثل طول الرسالة.
*   **معالجة اللغات الطبيعية (NLP):** تطبيق تقنيات معالجة النصوص لتحويلها إلى صيغة قابلة للتحليل بواسطة النماذج.
*   **بناء وتقييم النماذج:** تدريب واختبار عدة خوارزميات تصنيف، وتقييم أدائها باستخدام مقاييس مناسبة (Precision, Recall, F1-Score).
*   **اختيار النموذج الأمثل:** تحديد الخوارزمية التي تحقق أفضل أداء واستقرار.

## مجموعة البيانات
تم استخدام مجموعة بيانات `spam-text.csv`، والتي تحتوي على عمودين رئيسيين:
*   `Category`: يحدد ما إذا كانت الرسالة "ham" أو "spam".
*   `Message`: نص الرسالة الفعلي.

**ملاحظات حول البيانات:**
*   **عدم توازن الفئات:** تحتوي مجموعة البيانات على عدد أكبر بكثير من رسائل Ham مقارنة برسائل Spam، مما استدعى استخدام مقاييس تقييم متقدمة (F1-Score) وتقنيات مثل `class_weight='balanced'`.
*   **القيم المكررة:** تم إزالة 415 رسالة مكررة لضمان دقة التحليل وتجنب تحيز النموذج.

## المنهجية والخطوات الرئيسية
1.  **استكشاف البيانات (EDA):** تحليل توزيع الفئات، وإحصائيات طول الرسائل.
2.  **هندسة الميزات:** إضافة عمود `Message_Length` (طول الرسالة الخام) كخاصية تنبؤية قوية.
3.  **معالجة النصوص (Text Preprocessing):** تحويل النصوص إلى أحرف صغيرة، إزالة الأرقام وعلامات الترقيم والمسافات الزائدة.
4.  **تحويل النصوص إلى ميزات رقمية (Vectorization):** استخدام `TF-IDF` لتحويل النصوص المعالجة إلى مصفوفات رقمية، ودمجها مع ميزة `Message_Length`.
5.  **تقسيم البيانات:** تقسيم مجموعة البيانات إلى مجموعتي تدريب واختبار (80% تدريب، 20% اختبار).
6.  **تقييم النماذج:**
    *   استخدام **التحقق المتقاطع (Cross-Validation)** مع `StratifiedKFold` لضمان تقييم موثوق.
    *   تجربة **ضبط العتبة (Threshold Tuning)** لنموذج الانحدار اللوجستي لفهم العلاقة بين Precision و Recall.
    *   مقارنة أداء عدة خوارزميات تصنيف (Logistic Regression, Decision Tree, Naive Bayes, SVM, KNN).
    *   استخدام `Pipeline` و `MaxAbsScaler` لتحسين أداء النماذج الحساسة للمسافة.

## النتائج الرئيسية
بعد مقارنة شاملة لعدة نماذج باستخدام متوسط F1-Score عبر التحقق المتقاطع، كانت النتائج كالتالي:

| النموذج                     | متوسط F1-Score | الانحراف المعياري لـ F1-Score |
| :------------------------- | :-------------: | :--------------------------: |
| **SVM (linear)**           | **0.9056**      | **0.0192**                   |
| SVM (rbf)                  | 0.8063          | 0.0278                       |
| Logistic Regression        | 0.7829          | 0.0371                       |
| Decision Tree (max_depth=10) | 0.7173          | 0.0072                       |
| KNN (k=3)                  | 0.5329          | 0.0309                       |
| KNN (k=5)                  | 0.3860          | 0.0384                       |
| Naive Bayes (MultinomialNB) | 0.1933          | 0.0347                       |

**الاستنتاجات:**
*   **SVM (linear)** حقق أفضل أداء بفارق كبير، مما يجعله الخيار الأمثل لهذا المشروع.
*   ميزة **طول الرسالة** أثبتت أنها مؤشر قوي ومميز بين رسائل Ham و Spam.
*   أهمية **معالجة النصوص وتحويلها** بشكل صحيح، بالإضافة إلى استخدام `Pipeline` و `MaxAbsScaler`، كانت حاسمة في تحقيق الأداء العالي.
*   الانحراف المعياري (`+/-`) يشير إلى **استقرار** أداء النموذج؛ كلما كان أصغر، كان النموذج أكثر موثوقية.

## كيفية التشغيل
1.  **استنساخ المستودع:**
    ```bash
    git clone https://github.com/Zeina-Hamouie/Python-Projects.git
    ```
2.  **الانتقال إلى مجلد المشروع:**
    ```bash
    cd Python-Projects/Spam_Detection_Project
    ```
3.  **تثبيت المكتبات المطلوبة:**
    ```bash
    pip install pandas scikit-learn matplotlib seaborn jupyter
    ```
4.  **تشغيل Jupyter Notebook:**
    ```bash
    jupyter notebook
    ```
5.  افتح ملف `spam_detection_notebook.ipynb` (أو أي اسم قمتِ بتسميته لملف الجوبيتر الخاص بكِ) وقم بتشغيل الخلايا خطوة بخطوة.





